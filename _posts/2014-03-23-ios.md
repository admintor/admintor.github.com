---
layout: post
title: js的面向对象
tags: 
datetime: 2014-04-26 11:11
pv: 40
comment: 1
share: 
---

####js的面向对象和其他oo语言的面向对象的语法有很大的不同，从语法和逻辑上都不同，当然都由封装的特性。
####初次接触js的面向对象，有点晕头转向，完全被prototype、原型、原型对象和constructor等等名词搞晕了，慢慢深入发现，js的面向对象也不是那么难以理解，但是信手拈来还是有难度的。
####首先prototype，她是构造函数的原型，可以用原型添加属性和方法，这样就不用在构造函数中操作属性方法，这样看起来很方便，但是通过这种方式创建的实例，是共享构造函数的属性和方法的，不能创建不同的实例，因为函数是引用类型，实例都是通过指针指向构造函数。解决方法是可以共享的放在prototype中，不能共享的放在构造函数中，这样就能创建不同的实例了。在使用prototyp是时候会自动为prototype指向的对象创建一个constructor属性，她是指向构造函数的指针，在这里我懵了晕了糊涂了，一时间搞不懂了，跳过这里继续往下看，后来就释然了，prototype是构造函数的原型，她指向是个对象，在这个对象中需要记录这个原型是谁的，constructor属性就派上用场了，这里可以暂时不用透彻的理解constructor。但是如果重新给prototype指向一个新对象，constructor的重要性就有所体现了，因为protoype重新指向的新对象和构造函数没有半毛钱关系了，这时候就知道constructor干什么用的了，上面也说了她是记录原型是谁的原型，否则用原型定义的方法和属性就不能为实例所有了，创建的实例只是一个空壳子，没有任何方法和属性，如果是在创建实例之后重新给prototype指定一个新对象，那么实例在调用方法和属性的时候会报错，因为实例调用方法和属性首先在实例中找有没有相应的方法和属性，然后在原型中找，这时候原型变成另外一个对象，原来的不存在了，这样就导致了错误，所以在为原型指定新对象的时候constructor属性一定设置为构造函数。
####以上是我按照自己的理解，由于自己还不是百分百有把握说清楚这一问题，过段时间有了新的发现再更新这篇文章！